<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Control TTOO 2026</title>
<style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #f9f9f9; }
    h1 { text-align: center; }
    .tab { display: none; }
    .tab.active { display: block; }
    .tabs button { margin-right: 5px; padding: 5px 10px; }
    table { border-collapse: collapse; width: 100%; margin-top: 10px; }
    th, td { border: 1px solid #ccc; padding: 5px; text-align: center; }
    th { background-color: #eee; }
    .stop { background-color: red; color: white; }
    input { width: 50px; text-align: center; }
</style>
</head>
<body>
<h1>Control TTOO 2026</h1>

<div class="tabs">
    <button onclick="showTab('tuiuk')">TUI UK</button>
    <button onclick="showTab('der')">DER</button>
    <button onclick="showTab('tuined')">TUI NED</button>
    <button onclick="showTab('islamar')">V. ISLAMAR</button>
    <button onclick="showTab('dercatalina')">DER CATALINA</button>
</div>

<div id="tuiuk" class="tab">
    <h2>TUI UK</h2>
    <table>
        <tr><th>Tipología</th><th>Cupo</th><th>Stop Sales</th></tr>
        <tr><td>Standard Sin vistas</td><td><input type="number" value="5" onchange="saveCupo('tuiuk','TW01',this.value)"></td><td><button onclick="toggleStop(this,'tuiuk','TW01')">Stop</button></td></tr>
        <tr><td>Standard Vista mar</td><td><input type="number" value="5" onchange="saveCupo('tuiuk','TW02',this.value)"></td><td><button onclick="toggleStop(this,'tuiuk','TW02')">Stop</button></td></tr>
        <tr><td>Superior VML Duna</td><td><input type="number" value="2" onchange="saveCupo('tuiuk','TW03',this.value)"></td><td><button onclick="toggleStop(this,'tuiuk','TW03')">Stop</button></td></tr>
        <tr><td>Best Superior VML</td><td><input type="number" value="2" onchange="saveCupo('tuiuk','TW05',this.value)"></td><td><button onclick="toggleStop(this,'tuiuk','TW05')">Stop</button></td></tr>
        <tr><td>Superior VML Village</td><td><input type="number" value="2" onchange="saveCupo('tuiuk','TW04',this.value)"></td><td><button onclick="toggleStop(this,'tuiuk','TW04')">Stop</button></td></tr>
    </table>
    <p><strong>Descuentos:</strong> -10% hasta 31/12/25, -5% 01/01/26 - 28/02/26, Medcon -0,8%</p>
    <p><strong>Cancelaciones:</strong> 7-4 días: 1a noche, 3-1 días: 3 noches, No show: 100%</p>
</div>

<div id="der" class="tab">
    <h2>DER</h2>
    <table>
        <tr><th>Tipología</th><th>Cupo</th><th>Stop Sales</th></tr>
        <tr><td>Standard Sin vistas</td><td><input type="number" value="6" onchange="saveCupo('der','DB1',this.value)"></td><td><button onclick="toggleStop(this,'der','DB1')">Stop</button></td></tr>
        <tr><td>Standard Vista mar</td><td><input type="number" value="5" onchange="saveCupo('der','D1M',this.value)"></td><td><button onclick="toggleStop(this,'der','D1M')">Stop</button></td></tr>
        <tr><td>Sup. Planta baja</td><td><input type="number" value="3" onchange="saveCupo('der','DS1',this.value)"></td><td><button onclick="toggleStop(this,'der','DS1')">Stop</button></td></tr>
        <tr><td>Superior VML</td><td><input type="number" value="2" onchange="saveCupo('der','D1N',this.value)"></td><td><button onclick="toggleStop(this,'der','D1N')">Stop</button></td></tr>
        <tr><td>Superior VML Village</td><td><input type="number" value="3" onchange="saveCupo('der','D2N',this.value)"></td><td><button onclick="toggleStop(this,'der','D2N')">Stop</button></td></tr>
    </table>
    <p><strong>Descuentos:</strong> -10% hasta 31/03/26, -10% 01/04 - 30/06, Travel dates: 1/5-31/10 y 1/09-31/10</p>
    <p><strong>Cancelaciones:</strong> 7-4 días: 1a noche, 3-1 días: 3 noches, No show: 100%</p>
</div>

<div id="tuined" class="tab">
    <h2>TUI NED</h2>
    <table>
        <tr><th>Tipología</th><th>Cupo</th><th>Stop Sales</th></tr>
        <tr><td>Standard Sin vistas</td><td><input type="number" value="2" onchange="saveCupo('tuined','DO-01',this.value)"></td><td><button onclick="toggleStop(this,'tuined','DO-01')">Stop</button></td></tr>
        <tr><td>Standard Vista mar</td><td><input type="number" value="2" onchange="saveCupo('tuined','DO-02',this.value)"></td><td><button onclick="toggleStop(this,'tuined','DO-02')">Stop</button></td></tr>
        <tr><td>Sup. Planta baja</td><td><input type="number" value="2" onchange="saveCupo('tuined','DO-03',this.value)"></td><td><button onclick="toggleStop(this,'tuined','DO-03')">Stop</button></td></tr>
        <tr><td>Superior VML</td><td><input type="number" value="1" onchange="saveCupo('tuined','DO-04',this.value)"></td><td><button onclick="toggleStop(this,'tuined','DO-04')">Stop</button></td></tr>
        <tr><td>Best Superior VML</td><td><input type="number" value="3" onchange="saveCupo('tuined','DO-06',this.value)"></td><td><button onclick="toggleStop(this,'tuined','DO-06')">Stop</button></td></tr>
    </table>
    <p><strong>Descuentos:</strong> -10% hasta 31/12/25, -5% 01/01/26 - 31/03/26, -5% 01/04 - 30/06, Travel dates: 1/9-31/10</p>
    <p><strong>Cancelaciones:</strong> 7-4 días: 1a noche, 3-1 días: 3 noches, No show: 100%</p>
</div>

<div id="islamar" class="tab">
    <h2>V. ISLAMAR</h2>
    <table>
        <tr><th>Tipología</th><th>Cupo</th><th>Stop Sales</th></tr>
        <tr><td>Standard</td><td><input type="number" value="3" onchange="saveCupo('islamar','STD',this.value)"></td><td><button onclick="toggleStop(this,'islamar','STD')">Stop</button></td></tr>
        <tr><td>Standard Vista mar</td><td><input type="number" value="2" onchange="saveCupo('islamar','SV',this.value)"></td><td><button onclick="toggleStop(this,'islamar','SV')">Stop</button></td></tr>
        <tr><td>Sup. Planta baja</td><td><input type="number" value="1" onchange="saveCupo('islamar','SPB',this.value)"></td><td><button onclick="toggleStop(this,'islamar','SPB')">Stop</button></td></tr>
        <tr><td>Superior Vista mar lateral dune side</td><td><input type="number" value="1" onchange="saveCupo('islamar','SVLD',this.value)"></td><td><button onclick="toggleStop(this,'islamar','SVLD')">Stop</button></td></tr>
        <tr><td>Superior Vista mar lateral village side</td><td><input type="number" value="2" onchange="saveCupo('islamar','SVLV',this.value)"></td><td><button onclick="toggleStop(this,'islamar','SVLV')">Stop</button></td></tr>
        <tr><td>Best Superior Vista mar lateral dune side</td><td><input type="number" value="2" onchange="saveCupo('islamar','BSVLD',this.value)"></td><td><button onclick="toggleStop(this,'islamar','BSVLD')">Stop</button></td></tr>
    </table>
    <p><strong>Descuentos:</strong> -10% hasta 28/02/26, -5% 01/03-31/03, -5% 01/05-30/09, Travel dates: 1/10-31/10</p>
    <p><strong>Cancelaciones:</strong> 7-4 días: 1a noche, 3-1 días: 3 noches, No show: 100%</p>
</div>

<div id="dercatalina" class="tab">
    <h2>DER CATALINA</h2>
    <table>
        <tr><th>Tipología</th><th>Cupo</th><th>Stop Sales</th></tr>
        <tr><td>Ap. Planta baja 2 hab</td><td><input type="number" value="2" onchange="saveCupo('dercatalina','OB1',this.value)"></td><td><button onclick="toggleStop(this,'dercatalina','OB1')">Stop</button></td></tr>
        <tr><td>Ap. Alta 2 hab.</td><td><input type="number" value="3" onchange="saveCupo('dercatalina','OB2',this.value)"></td><td><button onclick="toggleStop(this,'dercatalina','OB2')">Stop</button></td></tr>
    </table>
    <p><strong>Descuentos:</strong> -10% hasta 31/03/26</p>
    <p><strong>Cancelaciones:</strong> 7-4 días: 1a noche, 3-1 días: 3 noches, No show: 100%</p>
</div>

<script>
// Tabs
function showTab(tabId){
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    document.getElementById(tabId).classList.add('active');
}
showTab('tuiuk'); // Tab inicial

// Guardar cupos y stop sales en localStorage
function saveCupo(tt, code, value){
    let data = JSON.parse(localStorage.getItem('cupoData') || '{}');
    if(!data[tt]) data[tt] = {};
    data[tt][code] = data[tt][code] || {};
    data[tt][code].cupo = value;
    localStorage.setItem('cupoData', JSON.stringify(data));
}

function toggleStop(btn, tt, code){
    let data = JSON.parse(localStorage.getItem('cupoData') || '{}');
    if(!data[tt]) data[tt] = {};
    data[tt][code] = data[tt][code] || {};
    data[tt][code].stop = !data[tt][code].stop;
    if(data[tt][code].stop){
        btn.classList.add('stop');
    } else {
        btn.classList.remove('stop');
    }
    localStorage.setItem('cupoData', JSON.stringify(data));
}

// Aplicar estado guardado al cargar
window.onload = function(){
    let data = JSON.parse(localStorage.getItem('cupoData') || '{}');
    for(let tt in data){
        for(let code in data[tt]){
            let rowBtn = document.querySelector(`button[onclick*="${tt}","${code}"]`);
            let rowInput = document.querySelector(`input[onchange*="${tt}","${code}"]`);
            if(data[tt][code].stop && rowBtn) rowBtn.classList.add('stop');
            if(data[tt][code].cupo && rowInput) rowInput.value = data[tt][code].cupo;
        }
    }
}
</script>

</body>
</html>
